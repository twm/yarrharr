{% load static %}
{% load static_glob %}
<!DOCTYPE html>
<html lang="en_US">
    <head>
        <title>{% block title %}{{ title|default:"Yarrharr" }}{% endblock %}</title>
        {# XXX Does user-scalable=no do anything anymore? #}
        <meta name="viewport" content="width=device-width, user-scalable=no">
        <link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="{% static 'icon.ico' %}">
        <link rel="icon" sizes="152x152" type="image/png" href="{% static 'icon.touch.png' %}">
        <link rel="apple-touch-icon-precomposed" type="image/png" href="{% static 'icon.touch.png' %}">
        {% for path in 'main.*.css'|static_glob %}
        <link rel="stylesheet" type="text/css" href="{% static path %}">
        {% endfor %}
        <script>
            var __webpack_public_path__ = "{% static '' %}";
            {# FIXME This stub prevents JS errors caused by loading the bundle on pages it doesn't render. #}
            var props = {articlesById: {}, feedsById: {}, labelsById: {}};
        </script>
        {% for path in 'main.*.js'|static_glob %}
        <script src="{% static path %}" defer></script>
        {% endfor %}
    </head>
    <body>
        <main role=main>
            {% if messages %}
                <ul class=messages>
                    {% for message in messages %}
                        <li class="{{ message.tags }}">{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% block content %}{% endblock %}
        </main>
        <footer>
            <p>Yarrharr Feed Reader ∙ © 2013–2017 Tom Most ∙ GPLv3+ ∙ <a href="{% url 'about' %}">About</a>
        </footer>
    </body>
</html>
